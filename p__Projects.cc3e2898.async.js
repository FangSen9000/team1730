(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[839],{26780:function(U,R,t){"use strict";t.r(R),t.d(R,{default:function(){return K}});var X=t(57663),E=t(71577),Y=t(77576),S=t(12028),b=t(12968),x=t(62462),q=t(34792),j=t(48086),h=t(3182),G=t(2824),B=t(94043),u=t.n(B),p=t(67294),F=t(81907),M=t(92598),O=t(49101),f=t(636);function P(r){return g.apply(this,arguments)}function g(){return g=(0,h.Z)(u().mark(function r(s){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.Z)("/admin/goods",{params:s}));case 1:case"end":return e.stop()}},r)})),g.apply(this,arguments)}function D(r){return v.apply(this,arguments)}function v(){return v=(0,h.Z)(u().mark(function r(s){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.Z.patch("/admin/goods/".concat(s,"/on")));case 1:case"end":return e.stop()}},r)})),v.apply(this,arguments)}function V(r){return y.apply(this,arguments)}function y(){return y=(0,h.Z)(u().mark(function r(s){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.Z.patch("/admin/goods/".concat(s,"/recommend")));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function _(r){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime.mark(function r(s){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request.post("/admin/goods",{data:s}));case 1:case"end":return e.stop()}},r)})),I.apply(this,arguments)}function ee(r){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime.mark(function r(s){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request.get("/admin/goods/".concat(s,"?include=category")));case 1:case"end":return e.stop()}},r)})),w.apply(this,arguments)}function ne(r,s){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime.mark(function r(s,o){return _regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request.put("/admin/goods/".concat(s),{data:o}));case 1:case"end":return m.stop()}},r)})),Z.apply(this,arguments)}var k=t(77808),d=t(85893),z=()=>{var r=(0,p.useState)(!1),s=(0,G.Z)(r,2),o=s[0],e=s[1],m=(0,p.useState)(void 0),$=(0,G.Z)(m,2),W=$[0],H=$[1],A=(0,p.useRef)(),J=function(){var i=(0,h.Z)(u().mark(function n(l){var c;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P(l);case 2:return c=a.sent,a.abrupt("return",{data:c.data,success:!0,total:c.meta.pagination.total});case 4:case"end":return a.stop()}},n)}));return function(l){return i.apply(this,arguments)}}(),L=function(){var i=(0,h.Z)(u().mark(function n(l){var c;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D(l);case 2:c=a.sent,c.status===void 0&&j.default.success("\u64CD\u4F5C\u6210\u529F");case 4:case"end":return a.stop()}},n)}));return function(l){return i.apply(this,arguments)}}(),N=function(){var i=(0,h.Z)(u().mark(function n(l){var c;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,V(l);case 2:c=a.sent,c.status===void 0&&j.default.success("\u64CD\u4F5C\u6210\u529F");case 4:case"end":return a.stop()}},n)}));return function(l){return i.apply(this,arguments)}}(),C=function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;H(l),e(n)},Q=[{title:"\u5546\u54C1\u56FE",dataIndex:"cover_url",hideInSearch:!0,render:(i,n)=>(0,d.jsx)(x.Z,{width:64,src:n.cover_url,placeholder:(0,d.jsx)(x.Z,{preview:!1,src:n.cover_url,width:200})})},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u4EF7\u683C",dataIndex:"price",hideInSearch:!0},{title:"\u5E93\u5B58",dataIndex:"stock",hideInSearch:!0},{title:"\u9500\u91CF",dataIndex:"sales",hideInSearch:!0},{title:"\u662F\u5426\u4E0A\u67B6",dataIndex:"is_on",render:(i,n)=>(0,d.jsx)(S.Z,{checkedChildren:"\u5DF2\u4E0A\u67B6",unCheckedChildren:"\u672A\u4E0A\u67B6",defaultChecked:n.is_on===1,onChange:()=>L(n.id)}),valueType:"radioButton",valueEnum:{1:{text:"\u5DF2\u4E0A\u67B6"},0:{text:"\u672A\u4E0A\u67B6"}}},{title:"\u662F\u5426\u63A8\u8350",dataIndex:"is_recommend",render:(i,n)=>(0,d.jsx)(S.Z,{checkedChildren:"\u5DF2\u63A8\u8350",unCheckedChildren:"\u672A\u63A8\u8350",defaultChecked:n.is_recommend===1,onChange:()=>N(n.id)}),valueType:"radioButton",valueEnum:{1:{text:"\u5DF2\u63A8\u8350"},0:{text:"\u672A\u63A8\u8350"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",hideInSearch:!0},{title:"\u64CD\u4F5C",render:(i,n)=>(0,d.jsx)("a",{onClick:()=>C(!0,n.id),children:"\u7F16\u8F91"})}];return(0,d.jsxs)(F.ZP,{children:[(0,d.jsx)(M.ZP,{columns:Q,actionRef:A,request:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return J(n)},rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:10},dateFormatter:"string",headerTitle:"\u7528\u6237\u5217\u8868",toolBarRender:()=>[(0,d.jsx)(E.Z,{icon:(0,d.jsx)(O.Z,{}),type:"primary",onClick:()=>C(!0),children:"\u65B0\u5EFA"},"button")]}),o?(0,d.jsx)(k.Z,{isModalVisible:o,isShowModal:C,actionRef:A,editId:W}):""]})},K=z}}]);
